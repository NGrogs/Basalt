{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\elite\\\\Desktop\\\\Blockchain Project\\\\Basalt\\\\src\\\\components\\\\Account\\\\myAccount.js\";\nimport React, { Component } from 'react';\nimport firebase from '../Firebase/firebase';\n\nvar myAccount =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(myAccount, _Component);\n\n  function myAccount() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, myAccount);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(myAccount)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: '',\n      uid: '',\n      email: '',\n      country: '',\n      region: '',\n      organizationType: '',\n      organizationName: '',\n      publicEthKey: '' //TO-DO get current user \n\n    };\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _uid, loc;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              firebase.auth().onAuthStateChanged(function (user) {\n                if (user) {\n                  // User is signed in.\n                  this.setState({\n                    user: firebase.auth().currentUser\n                  }); //not needed?\n\n                  this.setState({\n                    uid: firebase.auth().currentUser.uid\n                  });\n                } else {\n                  // No user is signed in.\n                  //redirect to login\n                  this.props.history.push('/login');\n                }\n              }.bind(_assertThisInitialized(_assertThisInitialized(_this))));\n              _uid = _this.state.uid; // get reference to database location we want\n\n              loc = firebase.database().ref('/users/' + _uid);\n              loc.once('value', function (snapshot) {\n                snapshot.forEach(function (child) {\n                  _this.setState({\n                    email: child.val().email,\n                    country: child.val().country,\n                    region: child.val().Region,\n                    organizationName: child.val().organizationName,\n                    organizationType: child.val().organizationType,\n                    publicEthKey: child.val().EthKey\n                  });\n                });\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _this;\n  }\n\n  _createClass(myAccount, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        align: \"center\",\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \" Account Details \"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"User ID: \", this.state.uid), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Email: \", this.state.email), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Organization Name: \", this.state.organizationName), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Organization Type: \", this.state.organizationType), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Country: \", this.state.country), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Region: \", this.state.region), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Public Ethereum Key: \", this.state.publicEthKey));\n    }\n  }]);\n\n  return myAccount;\n}(Component);\n\nexport default myAccount;","map":{"version":3,"sources":["C:\\Users\\elite\\Desktop\\Blockchain Project\\Basalt\\src\\components\\Account\\myAccount.js"],"names":["React","Component","firebase","myAccount","state","user","uid","email","country","region","organizationType","organizationName","publicEthKey","componentDidMount","auth","onAuthStateChanged","setState","currentUser","props","history","push","bind","_uid","loc","database","ref","once","snapshot","forEach","child","val","Region","EthKey"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport firebase from '../Firebase/firebase';\r\n\r\nclass myAccount extends Component {\r\n    state = {\r\n        user: '',\r\n        uid: '',\r\n        email: '',\r\n        country: '',\r\n        region: '',\r\n        organizationType: '',\r\n        organizationName: '',\r\n        publicEthKey: ''\r\n    }\r\n\r\n    //TO-DO get current user \r\n    componentDidMount = async () => {\r\n\r\n        firebase.auth().onAuthStateChanged(function(user) {\r\n            if (user) {\r\n                // User is signed in.\r\n                this.setState({user: firebase.auth().currentUser}) //not needed?\r\n                this.setState({uid: firebase.auth().currentUser.uid })\r\n            } else {\r\n                // No user is signed in.\r\n                //redirect to login\r\n                this.props.history.push('/login')\r\n            }\r\n            }.bind(this))\r\n            var _uid = this.state.uid\r\n\r\n            // get reference to database location we want\r\n            const loc = firebase.database().ref('/users/' + _uid)\r\n            loc.once('value', snapshot => {\r\n                snapshot.forEach(child => {\r\n                    this.setState({\r\n                        email: child.val().email,\r\n                        country: child.val().country,\r\n                        region: child.val().Region,\r\n                        organizationName: child.val().organizationName,\r\n                        organizationType: child.val().organizationType,\r\n                        publicEthKey: child.val().EthKey\r\n                    })\r\n                })\r\n            })\r\n        }\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div align=\"center\"className=\"container\">\r\n                <h1> Account Details </h1> <br/>\r\n\r\n                <h2>User ID: {this.state.uid}</h2>\r\n                <h2>Email: {this.state.email}</h2>\r\n                <h2>Organization Name: {this.state.organizationName}</h2>\r\n                <h2>Organization Type: {this.state.organizationType}</h2>\r\n                <h2>Country: {this.state.country}</h2>\r\n                <h2>Region: {this.state.region}</h2>\r\n                <h2>Public Ethereum Key: {this.state.publicEthKey}</h2>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default myAccount;"]},"metadata":{},"sourceType":"module"}