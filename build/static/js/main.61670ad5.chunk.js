(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){"use strict";var n=a(132),l=new(a.n(n).a)(window.web3.currentProvider);t.a=new l.eth.Contract([{constant:!0,inputs:[{name:"",type:"uint64"}],name:"ListOfDocuments",outputs:[{name:"id",type:"uint256"},{name:"ipfsHash",type:"string"},{name:"uploader",type:"address"},{name:"dateUploaded",type:"uint256"},{name:"userID",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x948a6764"},{constant:!0,inputs:[],name:"documentCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xa5b16b2e"},{constant:!1,inputs:[{name:"_ipfsLocation",type:"string"},{name:"_uploadDate",type:"uint256"},{name:"_key",type:"uint64"},{name:"_userID",type:"string"}],name:"sendDocument",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xb4d3fca5"},{constant:!0,inputs:[{name:"_id",type:"uint64"}],name:"getDocument",outputs:[{name:"",type:"string"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8844d877"}],"0x1309CB274a7d16d489EDCb13424CAeED3f88AE16")},1169:function(e,t){},1218:function(e,t){},1299:function(e,t){},13:function(e,t,a){"use strict";var n=a(317),l=a.n(n);a(617),a(619);l.a.initializeApp({apiKey:"AIzaSyAgRgoOqFUmvHy022erltHKM0vUHjmexHw",authDomain:"basalt-b3c19.firebaseapp.com",databaseURL:"https://basalt-b3c19.firebaseio.com",projectId:"basalt-b3c19",storageBucket:"basalt-b3c19.appspot.com",messagingSenderId:"446592087044"}),t.a=l.a},1308:function(e,t){},1310:function(e,t){},1311:function(e,t){},1312:function(e,t){},1313:function(e,t){},1334:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(552),c=a.n(r),s=a(1337),o=(a(569),a(6)),i=a.n(o),u=a(23),m=a(26),d=a(36),h=a(28),p=a(27),b=a(29),E=a(1339),g=a(554),f=a(1335),v=a(13),y=a(210),w=a(102),N=(a(907),a(1338)),C=a(1336),k=Object(f.a)(function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,null,l.a.createElement(N.a,{to:"/FileUpload",style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"}},"File Upload")),l.a.createElement(C.a,null,l.a.createElement(N.a,{to:"/FileRetrieve",style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"}},"File Retrieve")),l.a.createElement(C.a,null,l.a.createElement(N.a,{to:"/viewStudent",style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"}},"View Student")),l.a.createElement(C.a,null,l.a.createElement(N.a,{to:"/myAccount",style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"}},"My Account")),l.a.createElement(C.a,null,l.a.createElement(N.a,{to:"/searchInstitute",style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"}},"Search Institute")),l.a.createElement(C.a,null,l.a.createElement(N.a,{to:"/login",style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"},onClick:function(){return v.a.auth().signOut()}},"Logout")))}),S=Object(f.a)(function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,null,l.a.createElement(N.a,{to:"/login",style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"}},"Login")),l.a.createElement(C.a,null,l.a.createElement(N.a,{to:"/signup",style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"}},"Sign Up")))}),x=a(557),D=a.n(x),O=function(){var e=v.a.auth().currentUser?l.a.createElement(k,null):l.a.createElement(S,null);return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light  ",style:{backgroundColor:"#B65DF3"}},l.a.createElement("div",{className:"container",style:{backgroundColor:"rgba(0,0,0,0.0)"}},l.a.createElement("img",{src:D.a,alt:"logo",style:{width:"5em",height:"5em"}}),l.a.createElement(N.a,{to:"/",exact:!0,style:{color:"white",fontSize:"1.5em",display:"block"},activeStyle:{fontWeight:"bold",color:"#121212"}}," Basalt"),e))},j=a(213),F=a.n(j),B=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{align:"center",className:"container",style:{marginTop:"3em"}},l.a.createElement("div",{className:""},l.a.createElement("img",{src:F.a,alt:"logo",style:{width:"30em",height:"30em"}})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h2",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}}," About "),l.a.createElement("h5",{style:{textAlign:"left",backgroundColor:"#e6e4e2"}}," This application aims to use the Ethereum Blockchain to help connect colleges and businesses around the world. ",l.a.createElement("br",null),l.a.createElement("br",null),"Providing a place for these organizations to stop the problem of applicants getting jobs with false credentials. ",l.a.createElement("br",null),l.a.createElement("br",null),"This application was created for my final year Software Development project at IT Carlow")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h2",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}}," How will it work?"),l.a.createElement("h5",{style:{textAlign:"left",backgroundColor:"#e6e4e2"}},"A college uploads a document containing details about one of their student. (The information they choose to disclose is at the institutes discretion) ",l.a.createElement("br",null),l.a.createElement("br",null),"The college then uploads the document to this application and it is stored on an IPFS node. The link to that node is stored on the Ethereum Blockchain network. ",l.a.createElement("br",null),l.a.createElement("br",null),"The student can then provide a business they wish to apply to with this document or the business may contact the college with this application. The business can then view the students academic credentials with this document.")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h2",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}}," What will you need? "),l.a.createElement("h5",{style:{textAlign:"left",backgroundColor:"#e6e4e2"}},"In order to store and recieve documents from the Ethereum Blockchain you will need to download the browser extension",l.a.createElement("a",{href:"https://metamask.io/"}," Metamask.")," ",l.a.createElement("br",null),l.a.createElement("br",null),"Once installed it will appear in the top right of your web browser where you need to go and sign up for metamask. (Ensure you never reveal your private account key or your pneumonic seed phrase - we will never ask you for these!) ",l.a.createElement("br",null),l.a.createElement("br",null),"It is also recommended that you go to Metamasks' settings and enable private mode, meaning site must request access to your wallet before being able to view your details. ",l.a.createElement("br",null)))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}}," Help "),l.a.createElement("h5",{style:{textAlign:"left",backgroundColor:"#e6e4e2"}},"If you having any issues with this application, try refreshing a page, this may trigger Metamask in the event it didn't start correctly ",l.a.createElement("br",null),l.a.createElement("br",null),"If Metamask is having trouble completing a transaction, try restart your account from the metamask menu ",l.a.createElement("br",null),"(",l.a.createElement("i",null,"This will delete all the transaction records stored in your metamask so be sure you wish to do this"),") ",l.a.createElement("br",null),l.a.createElement("br",null))),l.a.createElement("div",{className:"col"},l.a.createElement("h2",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}}," Contact "),l.a.createElement("h5",{style:{backgroundColor:"#e6e4e2"}},"If you wish to contact me, please email me at: ",l.a.createElement("br",null),l.a.createElement("br",null)," ngrogan15@gmail.com ",l.a.createElement("br",null),l.a.createElement("br",null))),l.a.createElement("div",{className:"col"},l.a.createElement("h2",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}}," Thanks "),l.a.createElement("h5",{style:{backgroundColor:"#e6e4e2"}},"Logo made with ",l.a.createElement("a",{href:"https://www.designevo.com/en/",title:"Free Online Logo Maker"},"DesignEvo"),"  ",l.a.createElement("br",null),l.a.createElement("br",null),"Lecturer Patrick Tobin"))))}}]),t}(n.Component),I=Object(f.a)(B),T=a(52),A=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.login=function(e){e.preventDefault();var t=a.state.email,n=a.state.password;v.a.auth().setPersistence(v.a.auth.Auth.Persistence.SESSION).then(function(){return v.a.auth().signInWithEmailAndPassword(t,n).then(function(e){a.props.history.push("/")}).catch(function(e){alert("invalid login details"),a.props.history.push("/login")})}).catch(function(e){})},a.resetPassword=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.a.auth().sendPasswordResetEmail(a.state.email).then(function(){alert("An email has been sent allowing you to reset your password")}).catch(function(e){alert("an error occured or this is an invalid email address")});case 1:case"end":return e.stop()}},e)})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{align:"center",style:{marginTop:"7em"}},l.a.createElement("form",null,l.a.createElement("div",{className:"row",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"col-sm"},l.a.createElement("img",{src:F.a,alt:"logo",style:{width:"25em",height:"25em"}})),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h1",null,"Login"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group ",style:{width:"40%"}},l.a.createElement("input",{value:this.state.email,onChange:this.handleChange,className:"form-control",id:"email",type:"email",name:"email",placeholder:"Email Address",required:!0})),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group ",style:{width:"40%"}},l.a.createElement("input",{value:this.state.password,onChange:this.handleChange,className:"form-control",id:"password",type:"password",name:"password",placeholder:"Password",required:!0})),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.login}," Login "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.resetPassword}," Forgot password? ")))))}}]),t}(n.Component),P=Object(f.a)(A),z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",organizationName:"",organizationType:"",country:"",region:"",publicEthKey:""},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.dropChange=function(e){a.setState({organizationType:e.target.value})},a.signup=function(e){e.preventDefault();var t=a.state.email,n=a.state.organizationName,l=a.state.organizationType,r=a.state.country,c=a.state.region,s=a.state.publicEthKey,o=v.a.database();v.a.auth().createUserWithEmailAndPassword(a.state.email,a.state.password).then(function(e){o.ref().child("users").child(e.user.uid).set({email:t,organizationName:n,organizationType:l,country:r,Region:c,EthKey:s},a.props.history.push("/")).catch(function(e){console.log(e),alert("invalid signup details"),a.props.history.push("/signup")})}).catch(function(e){console.log(e),alert("invalid signup details"),a.props.history.push("/signup")})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{align:"center",style:{marginTop:"7em"}},l.a.createElement("h1",null,"Sign Up"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"form-group ",style:{width:"60%"}},l.a.createElement("label",null," Email "),l.a.createElement("input",{value:this.state.email,onChange:this.handleChange,className:"form-control",id:"email",type:"email",name:"email",placeholder:"Email Address",required:!0}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"form-group",style:{width:"60%"}},l.a.createElement("label",null," Organization Type "),l.a.createElement("select",{className:"form-control",id:"organizationType",name:"organizationType",onChange:this.dropChange,value:this.state.organizationType,required:!0},l.a.createElement("option",{value:"educational institute"}," Educational Institute "),l.a.createElement("option",{value:"business"}," Business ")))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"form-group",style:{width:"60%"}},l.a.createElement("label",null," Country "),l.a.createElement("input",{value:this.state.country,onChange:this.handleChange,className:"form-control",id:"country",type:"text",name:"country",placeholder:"What country are you based in?",required:!0})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"form-group",style:{width:"60%"}},l.a.createElement("label",null," Password "),l.a.createElement("input",{value:this.state.password,onChange:this.handleChange,className:"form-control",id:"password",type:"password",name:"password",placeholder:"Password",required:!0}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"form-group",style:{width:"60%"}},l.a.createElement("label",null," Organization name "),l.a.createElement("input",{value:this.state.organizationName,onChange:this.handleChange,className:"form-control",id:"organizationName",type:"text",name:"organizationName",placeholder:"College/Company Name",required:!0}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"form-group",style:{width:"60%"}},l.a.createElement("label",null," Region / Province "),l.a.createElement("input",{value:this.state.region,onChange:this.handleChange,className:"form-control",id:"region",type:"text",name:"region",placeholder:"What region of the country are you based in?",required:!0})))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group",style:{width:"40%"}},l.a.createElement("label",null," Public Key of Ethereum wallet "),l.a.createElement("input",{value:this.state.publicEthKey,onChange:this.handleChange,className:"form-control",id:"publicEthKey",type:"text",name:"publicEthKey",placeholder:"Your PUBLIC Ethereum wallet key",required:!0})),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.signup}," Sign Up ")))}}]),t}(n.Component),R=a(558),U=a(34),M=a(560),L=a(166);L.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(L.pdfjs.version,"/pdf.worker.js");var q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={idToSearch:"",documentDetails:[],IPFSlink:null,uploadedAddress:"",institiuteID:"",copied:!1,detailsFound:!1,numPages:null,pageNumber:1},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.retrieveDocument=function(){var e=Object(u.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.idToSearch,e.next=4,w.a.methods.getDocument(n).call().catch(console.error);case 4:a.state.documentDetails=e.sent,a.state.documentDetails[0].length?(a.setState({IPFSlink:a.state.documentDetails[0]}),a.setState({uploadedAddress:a.state.documentDetails[1]}),a.setState({institiuteID:a.state.documentDetails[3]}),a.setState({canReview:!0}),a.setState({detailsFound:!0})):(alert("No entry found"),a.setState({IPFSlink:""}),a.setState({uploadedAddress:""}),a.setState({uploadDate:""}),a.setState({canReview:!1}),a.setState({detailsFound:!1}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.a.auth().onAuthStateChanged(function(e){e?(this.setState({user:v.a.auth().currentUser}),this.setState({uid:v.a.auth().currentUser.uid})):this.props.history.push("/login")}.bind(Object(U.a)(Object(U.a)(a))));case 1:case"end":return e.stop()}},e)})),a.onDocumentLoadSuccess=function(e){var t=e.numPages;a.setState({numPages:t})},a.render=function(){var e=a.state,t=e.pageNumber,n=e.numPages;return a.state.detailsFound?l.a.createElement("div",{align:"center",className:"container",style:{paddingTop:"3em"}},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h2",null,"Enter key to search:"),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group ",style:{width:"40%"}},l.a.createElement("input",{value:a.state.idToSearch,onChange:a.handleChange,className:"form-control",id:"idToSearch",type:"text",name:"idToSearch",placeholder:"ID",required:!0})),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:a.retrieveDocument}," Find Document! "))),l.a.createElement("div",{className:"col-sm",style:{paddingTop:"5em"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Uploader metamask address")),l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"IPFS Link")),l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Uploader account ID"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",null,a.state.uploadedAddress)),l.a.createElement("div",{className:"col"},l.a.createElement("h5",null,a.state.IPFSlink)),l.a.createElement("div",{className:"col"},l.a.createElement("h5",null,a.state.institiuteID))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(M.CopyToClipboard,{text:a.state.institiuteID,onCopy:function(){return a.setState({copied:!0})}},l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"}},"Copy uploader's ID")),a.state.copied?l.a.createElement("span",{style:{color:"#B65DF3",paddingLeft:"3em"}},"Copied."):null),l.a.createElement("div",{align:"center",className:"container",style:{paddingTop:"3em",borderColor:"black"}},l.a.createElement(L.Document,{file:"https://ipfs.io/ipfs/"+a.state.IPFSlink,onLoadSuccess:a.onDocumentLoadSuccess},l.a.createElement(L.Page,{pageNumber:t})),l.a.createElement("p",null,"Page ",t," of ",n)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"What do I do with the uploader account ID"),l.a.createElement("br",null),l.a.createElement("h4",null,"If you navigate to the ",l.a.createElement("b",null,"Search Institute")," page you can search that ID and retrieve the uploaders details. ",l.a.createElement("br",null),l.a.createElement("br",null),"From there you can submit a review of the Institute if you'd like to help others see if they are trustworthy or not.")))):l.a.createElement("div",{align:"center",className:"container",style:{paddingTop:"3em"}},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h2",null,"Enter key to search:"),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group ",style:{width:"40%"}},l.a.createElement("input",{value:a.state.idToSearch,onChange:a.handleChange,className:"form-control",id:"idToSearch",type:"text",name:"idToSearch",placeholder:"ID",required:!0})),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:a.retrieveDocument}," Find Document! "))))},a}return Object(b.a)(t,e),t}(n.Component),W=Object(f.a)(q),K=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={user:"",uid:"",studentName:"",StudentNumber:"",courseCode:"",courseName:"",blockID:"",detailsFound:!1},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.findStudent=function(e){e.preventDefault();var t=a.state.StudentNumber,n=a.state.uid;v.a.database().ref("/students/"+n+"/"+t).once("value").then(function(e){if(e.exists()){var t=e.child("blockchainKey").val(),n=e.child("courseCode").val(),l=e.child("courseName").val(),r=e.child("studentName").val();a.setState({blockID:t,courseCode:n,courseName:l,studentName:r,detailsFound:!0})}else a.setState({detailsFound:!1}),alert("No Student Found")})},a.componentDidMount=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.a.auth().onAuthStateChanged(function(e){e?(this.setState({user:v.a.auth().currentUser}),this.setState({uid:v.a.auth().currentUser.uid})):this.props.history.push("/login")}.bind(Object(U.a)(Object(U.a)(a))));case 1:case"end":return e.stop()}},e)})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.detailsFound?l.a.createElement("div",{align:"center",className:"container",style:{paddingTop:"3em"}},l.a.createElement("h1",null," Enter a student's ID to view their details "),l.a.createElement("br",null),l.a.createElement("div",{align:"center"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group ",style:{width:"40%"}},l.a.createElement("input",{value:this.state.StudentNumber,onChange:this.handleChange,className:"form-control",id:"StudentNumber",type:"text",name:"StudentNumber",placeholder:"Student ID",required:!0})),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.findStudent}," Search "))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Student Name")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Course Code")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Course Name")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"ID on Blockchain"))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.studentName)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.courseCode)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.courseName)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.blockID)))):l.a.createElement("div",{align:"center",className:"container",style:{paddingTop:"3em"}},l.a.createElement("h1",null," Enter a student's ID to view their details "),l.a.createElement("br",null),l.a.createElement("div",{align:"center"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group ",style:{width:"40%"}},l.a.createElement("input",{value:this.state.StudentNumber,onChange:this.handleChange,className:"form-control",id:"StudentNumber",type:"text",name:"StudentNumber",placeholder:"Student ID",required:!0})),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.findStudent}," Search "))))}}]),t}(n.Component),H=Object(f.a)(K),G=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer text-center pt-5 pb-2 fixed-bottom",style:{backgroundColor:"#B65DF3"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"footer-text text-white font-italic"},"Neil Grogan"))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"footer-text text-white font-italic"},l.a.createElement("a",{className:"text-white",href:"https://github.com/NGrogs/Basalt"},"Github"))))))}}]),t}(n.Component),_=Object(f.a)(G),Y=a(561),J=a.n(Y),V=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={user:"",uid:"",email:"",country:"",region:"",organizationType:"",organizationName:"",publicEthKey:"",reviews:[],loading:!0},a.componentDidMount=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.a.auth().onAuthStateChanged(function(e){e?(this.setState({user:v.a.auth().currentUser}),this.setState({uid:v.a.auth().currentUser.uid})):this.props.history.push("/login")}.bind(Object(U.a)(Object(U.a)(a)))),t=a.state.uid,v.a.database().ref("/users/"+t).once("value",function(e){e.forEach(function(e){a.setState({email:e.val().email,country:e.val().country,region:e.val().Region,organizationName:e.val().organizationName,organizationType:e.val().organizationType,publicEthKey:e.val().EthKey})}),a.setState({loading:!1})});case 4:case"end":return e.stop()}},e)})),a.getReviews=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,l,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state.uid,l=v.a.database().ref("/reviews/"+n),r=[],l.once("value",function(e){if(e.exists()){var t=0;e.forEach(function(e){var n=e.val();r.push(n);var l=e.key,c=r[t].date,s=r[t].rating,o=r[t].text;t++,a.setState({reviews:a.state.reviews.concat([l,c,s,o])})})}else alert("No Reviews Found")});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.loading?l.a.createElement("div",{align:"center",className:"container"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("img",{src:J.a,alt:"logo",style:{width:"15em",height:"15em"}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",null,"loading ...")):l.a.createElement("div",{align:"center",className:"container"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",null," Account Details ")," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Personal")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Organizational")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Location"))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,l.a.createElement("b",null,"Email:")," ",this.state.email)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,l.a.createElement("b",null,"Organization Name:")," ",this.state.organizationName)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,l.a.createElement("b",null,"Country:")," ",this.state.country))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,l.a.createElement("b",null,"Metamask ID:")," ",this.state.publicEthKey)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,l.a.createElement("b",null,"Organization Type:")," ",this.state.organizationType)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,l.a.createElement("b",null,"Region:")," ",this.state.region))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",null," Reviews ")," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.getReviews}," Get my reviews "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Reviewer ID ")),l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Date ")),l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Star rating  /5")),l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Text"))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},this.state.reviews.map(function(e){return l.a.createElement("div",{className:"col-3",style:{marginBottom:"3em"}}," ",l.a.createElement("h5",null,e)," ")})))}}]),t}(n.Component),Q=Object(f.a)(V),X=a(562),Z=a.n(X),$=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={user:"",uid:"",key:"",email:"",instituteName:"",instituteType:"",country:"",region:"",publicEthKey:"",rating:0,canReview:!1,reviewText:"",reviews:[],detailsFound:!1},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.getInstitutes=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state.key,l=v.a.database().ref("/users/"+n),console.log(l),l.once("value",function(e){e.exists()?(console.log("exists"),a.setState({email:e.child("email").val(),instituteName:e.child("organizationName").val(),instituteType:e.child("organizationType").val(),region:e.child("Region").val(),country:e.child("country").val(),publicEthKey:e.child("EthKey").val(),canReview:!0,detailsFound:!0})):(a.setState({canReview:!1,detailsFound:!1}),alert("No Institute Found"))}),a.setState({user:v.a.auth().currentUser}),a.setState({uid:v.a.auth().currentUser.uid});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.changeRating=function(){var e=Object(u.a)(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.canReview?a.setState({rating:t}):alert("Cannot review until you search for an institute");case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addReview=Object(u.a)(i.a.mark(function e(){var t,n,l,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.rating<=0?alert("Please select a rating before submitting"):a.state.uid==a.state.key?alert("You can't review yourself"):(t=a.state.uid,n=a.state.key,l=(l=new Date).toDateString(),r=a.state.rating,c=a.state.reviewText,v.a.database().ref().child("reviews").child(n).child(t).set({rating:r,date:l,text:c}),alert("Review sent"));case 1:case"end":return e.stop()}},e)})),a.getReviews=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,l,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.state.canReview?(n=a.state.key,l=v.a.database().ref("/reviews/"+n),r=[],l.once("value",function(e){if(e.exists()){var t=0;e.forEach(function(e){var n=e.val();r.push(n);var l=e.key,c=r[t].date,s=r[t].rating,o=r[t].text;t++,a.setState({reviews:a.state.reviews.concat([l,c,s,o])})})}else alert("No Reviews Found")})):alert("Cannot see reviews until you search for an institute");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.a.auth().onAuthStateChanged(function(e){e?(this.setState({user:v.a.auth().currentUser}),this.setState({uid:v.a.auth().currentUser.uid})):this.props.history.push("/login")}.bind(Object(U.a)(Object(U.a)(a))));case 1:case"end":return e.stop()}},e)})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.detailsFound?l.a.createElement("div",{align:"center",className:"container",style:{paddingTop:"3em"}},l.a.createElement("h1",null," Search for an institute "),l.a.createElement("br",null),l.a.createElement("div",{align:"center"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group ",style:{width:"40%"}},l.a.createElement("input",{value:this.state.key,onChange:this.handleChange,className:"form-control",id:"key",type:"text",name:"key",placeholder:"Institute ID",required:!0})),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.getInstitutes}," Search "))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Institute Name ")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Institute Type ")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Country "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.instituteName)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.instituteType)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.country))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Region ")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Email ")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Metamask ID "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.region)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.email)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h4",null,this.state.publicEthKey))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("h3",null,"Review this institute?"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.addReview}," Submit Review ")),l.a.createElement("div",{className:"col-sm"},l.a.createElement(Z.a,{rating:this.state.rating,starRatedColor:"purple",changeRating:this.changeRating,numberOfStars:5,name:"rating"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Add some text to your review"),l.a.createElement("br",null),l.a.createElement("textarea",{value:this.state.reviewText,onChange:this.handleChange,id:"reviewText",name:"reviewText",style:{minWidth:"40%",minHeight:"14em"}}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"See this institute's reviews"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.getReviews}," Get Reviews "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Reviewer ID ")),l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Date ")),l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Star rating  /5")),l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",{className:"text-white",style:{backgroundColor:"#B65DF3",padding:".2em"}},"Text"))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},this.state.reviews.map(function(e){return l.a.createElement("div",{className:"col-3",style:{marginBottom:"3em"}}," ",l.a.createElement("h5",null,e)," ")}))):l.a.createElement("div",{align:"center",className:"container",style:{paddingTop:"3em"}},l.a.createElement("h1",null," Search for an institute "),l.a.createElement("br",null),l.a.createElement("div",{align:"center"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group ",style:{width:"40%"}},l.a.createElement("input",{value:this.state.key,onChange:this.handleChange,className:"form-control",id:"key",type:"text",name:"key",placeholder:"Institute ID",required:!0})),l.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:this.getInstitutes}," Search "))))}}]),t}(n.Component),ee=Object(f.a)($),te=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={user:{},web3:"",ethAddress:"",account:"0x0"},a.componentDidMount=Object(u.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.authListener(),e.next=3,Object(y.a)();case 3:return t=e.sent,a.setState({web3:t}),e.next=7,w.a.options.address;case 7:return n=e.sent,a.setState({ethAddress:n}),e.t0=a,e.next=12,t.eth.getAccounts();case 12:e.t1=e.sent,e.t2={account:e.t1},e.t0.setState.call(e.t0,e.t2);case 15:case"end":return e.stop()}},e)})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"authListener",value:function(){var e=this;v.a.auth().onAuthStateChanged(function(t){t?e.setState({user:t}):e.setState({user:null})})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,null,l.a.createElement("div",{className:"pb-5",style:{marginBottom:"10em"}},l.a.createElement(O,null),l.a.createElement(E.a,null,l.a.createElement(g.a,{exact:!0,path:"/",component:I}),l.a.createElement(g.a,{exact:!0,path:"/login",component:P}),l.a.createElement(g.a,{exact:!0,path:"/signup",component:z}),l.a.createElement(g.a,{exact:!0,path:"/FileUpload",render:function(t){return l.a.createElement(R.a,Object.assign({},t,{acc:e.state.account,ethAdd:e.state.ethAddress}))}}),l.a.createElement(g.a,{exact:!0,path:"/viewStudent",component:H}),l.a.createElement(g.a,{exact:!0,path:"/searchInstitute",component:ee}),l.a.createElement(g.a,{exact:!0,path:"/FileRetrieve",component:W}),l.a.createElement(g.a,{exact:!0,path:"/myAccount",component:Q})))),l.a.createElement(_,null))}}]),t}(n.Component),ae=Object(f.a)(te);c.a.render(l.a.createElement(s.a,null,l.a.createElement(ae,null)),document.getElementById("root"))},208:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=208},210:function(e,t,a){"use strict";var n=a(6),l=a.n(n),r=a(23),c=a(132),s=a.n(c);t.a=function(){return new Promise(function(e,t){window.addEventListener("load",Object(r.a)(l.a.mark(function a(){var n,r,c,o;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.ethereum){a.next=13;break}return n=new s.a(window.ethereum),a.prev=2,a.next=5,window.ethereum.enable();case 5:e(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),t(a.t0);case 11:a.next=14;break;case 13:window.web3?(r=window.web3,console.log("Injected web3 detected."),e(r)):(c=new s.a.providers.HttpProvider("http://127.0.0.1:9545"),o=new s.a(c),console.log("No web3 instance injected, using Local web3."),e(o));case 14:case"end":return a.stop()}},a,null,[[2,8]])})))})}},213:function(e,t,a){e.exports=a.p+"static/media/logoOGG.b2bdd034.png"},484:function(e,t){},501:function(e,t){},529:function(e,t){},557:function(e,t,a){e.exports=a.p+"static/media/navLogo.c5f04faa.png"},558:function(e,t,a){"use strict";(function(e){var n=a(6),l=a.n(n),r=a(23),c=a(52),s=a(26),o=a(28),i=a(27),u=a(29),m=a(34),d=a(0),h=a.n(d),p=a(13),b=a(102),E=a(559),g=a(210),f=a(1335),v=a(1304),y=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(o.a)(this,Object(i.a)(a).call(this,t))).handleChange=function(e){n.setState(Object(c.a)({},e.target.id,e.target.value))},n.getFile=function(e){e.preventDefault();var t=e.target.files[0],a=new window.FileReader;a.readAsArrayBuffer(t),a.onloadend=function(){return n.convertToBuffer(a)}},n.convertToBuffer=function(){var t=Object(r.a)(l.a.mark(function t(a){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.from(a.result);case 2:r=t.sent,n.setState({buffer:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.pushToIPFS=function(){var e=Object(r.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){E.a.add(n.state.buffer,function(t,a){e(a[0].hash)})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.addToBlockchain=function(){var e=Object(r.a)(l.a.mark(function e(t,a){var r,c,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(r=new Date).getTime(),c=n.state.account[0],s=n.state.uid,e.next=6,b.a.methods.sendDocument(t,r,a,s).send({from:c});case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),n.AddMyStuff=function(){var e=Object(r.a)(l.a.mark(function e(t){var a,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=v(1,1e7),r=a(),n.setState({idForBlockchain:r}),e.next=6,n.pushToIPFS();case 6:return c=e.sent,e.next=9,n.createStudent(r);case 9:return e.next=11,n.addToBlockchain(c,r);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.createStudent=function(){var e=Object(r.a)(l.a.mark(function e(t){var a,r,c,s,o,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.uid,r=n.state.StudentName,c=n.state.StudentNumber,s=n.state.CourseCode,o=n.state.CourseName,i=t,p.a.database().ref().child("students").child(a).child(c).set({studentName:r,courseCode:s,courseName:o,blockchainKey:i}),alert("Student added");case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=Object(r.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.a.auth().onAuthStateChanged(function(e){e?(this.setState({user:p.a.auth().currentUser}),this.setState({uid:p.a.auth().currentUser.uid})):this.props.history.push("/login")}.bind(Object(m.a)(Object(m.a)(n)))),e.next=3,Object(g.a)();case 3:return t=e.sent,e.next=6,b.a.options.address;case 6:return a=e.sent,n.setState({ethAddress:a}),e.t0=n,e.next=11,t.eth.getAccounts();case 11:e.t1=e.sent,e.t2={account:e.t1},e.t0.setState.call(e.t0,e.t2);case 14:case"end":return e.stop()}},e)})),n.render=function(){return h.a.createElement("div",{align:"center",className:"container",onLoad:n.componentDidMount},h.a.createElement("h1",null," File Upload "),h.a.createElement("br",null),h.a.createElement("h5",{style:{fontStyle:"italic"}},"( Please make sure you give this page access to your MetaMask! )"),h.a.createElement("br",null),h.a.createElement("form",null,h.a.createElement("div",{className:"form-group ",style:{width:"40%"}},h.a.createElement("label",null,"Please upload a PDF file with your student's details"),h.a.createElement("input",{value:n.state.name,onChange:n.getFile,accept:".pdf",className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},id:"file",type:"file",name:"file",required:!0})),h.a.createElement("br",null),h.a.createElement("div",{className:"form-group ",style:{width:"40%"}},h.a.createElement("label",null,"Student Name"),h.a.createElement("input",{value:n.state.StudentName,onChange:n.handleChange,className:"form-control",id:"StudentName",type:"text",name:"StudentName",placeholder:"Student Name",required:!0})),h.a.createElement("div",{className:"form-group ",style:{width:"40%"}},h.a.createElement("label",null,"Student Number"),h.a.createElement("input",{value:n.state.StudentNumber||"",onChange:n.handleChange,className:"form-control",id:"StudentNumber",type:"text",name:"StudentNumber",placeholder:"Student Number",required:!0})),h.a.createElement("div",{className:"form-group ",style:{width:"40%"}},h.a.createElement("label",null,"Course Code"),h.a.createElement("input",{value:n.state.CourseCode||"",onChange:n.handleChange,className:"form-control",id:"CourseCode",type:"text",name:"CourseCode",placeholder:"Course Code",required:!0})),h.a.createElement("div",{className:"form-group ",style:{width:"40%"}},h.a.createElement("label",null,"Course Name"),h.a.createElement("input",{value:n.state.CourseName||"",onChange:n.handleChange,className:"form-control",id:"CourseName",type:"text",name:"CourseName",placeholder:"Course Name",required:!0})),h.a.createElement("button",{className:"btn btn-lg text-white",style:{backgroundColor:"#B65DF3"},type:"submit",onClick:n.AddMyStuff}," Add Document! ")),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h1",null," What information is stored along with your file? ")," ",h.a.createElement("br",null),h.a.createElement("h5",null,"Your file is actually stored using Interplanitary File System ",h.a.createElement("a",{href:"https://ipfs.io/"}," (IPFS) ")," and the unique URL is stored on the Ethereum network. ",h.a.createElement("br",null),"We also store your MetaMask wallet public address and the date of the upload. ",h.a.createElement("br",null),h.a.createElement("br",null),"We'll store a record of who this file was uploaded for along with the link to the document on a central database"))},n.state={account:n.props.acc,ethAddress:n.props.ethAdd,user:"",uid:"",web3Provider:null,contracts:null,StudentName:"",StudentNumber:"",CourseCode:"",CourseName:"",idForBlockchain:"",IPFSlink:null,buffer:""},n}return Object(u.a)(a,t),a}(d.Component);t.a=Object(f.a)(y)}).call(this,a(1).Buffer)},559:function(e,t,a){"use strict";var n=new(a(911))({host:"ipfs.infura.io",port:5001,protocol:"https"});t.a=n},561:function(e,t,a){e.exports=a.p+"static/media/logoSmall.e308e4b9.png"},564:function(e,t,a){e.exports=a(1334)},569:function(e,t,a){},631:function(e,t){},633:function(e,t){},752:function(e,t){},787:function(e,t){},929:function(e,t){},931:function(e,t){},949:function(e,t){},950:function(e,t){},974:function(e,t){}},[[564,1,2]]]);
//# sourceMappingURL=main.61670ad5.chunk.js.map